{
  "hash": "94cccd3527c5e5ddf9f2fef7d58f0e67",
  "result": {
    "markdown": "---\ntitle: \"Randall County\"\n---\n\n\n## Setup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(janitor)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n:::\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(lubridate)\n```\n:::\n\n\n## Import \n\nSame process as before\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrandall <- read_excel(\"data-raw/RandallCounty.xlsx\")\n\nrandall |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 904\nColumns: 14\n$ `SO #`        <dbl> 90243, 74194, 90242, 84882, 90272, 60488, 86201, 90268, …\n$ name          <chr> \"DUBIOS, JOSHUA WAYNE\", \"FLORES, RODRIGO LEE\", \"UST, CON…\n$ age           <dbl> 22, 50, 21, 22, 39, 28, 24, 23, 23, 42, 60, 34, 23, 31, …\n$ sex           <chr> \"M\", \"M\", \"M\", \"M\", \"M\", \"M\", \"M\", \"M\", \"M\", \"M\", \"F\", \"…\n$ race          <chr> \"W\", \"W\", \"W\", \"B\", \"B\", \"W\", \"W\", \"W\", \"W\", \"W\", \"W\", \"…\n$ height_ft     <dbl> 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 5, 5, 5, 5, 5,…\n$ height_in     <dbl> 7, 11, 11, 8, 8, 9, 11, 10, 9, 11, 3, 10, 7, 3, 3, 6, 5,…\n$ weight        <dbl> 145, 220, 160, 170, 150, 185, 150, 190, 135, 182, 120, 1…\n$ address       <chr> \"220 VICTORIA POINT\\\\nSchertz, TX 78154\", \"7804 CONODE\\\\…\n$ date_arrest   <dttm> 2018-01-02, 2018-01-02, 2018-01-02, 2018-01-03, 2018-01…\n$ time_arrest   <dttm> 1899-12-31 11:30:00, 1899-12-31 00:45:00, 1899-12-31 11…\n$ agency_arrest <chr> \"TPW\", \"APD\", \"TPW\", \"RCSO\", \"APD\", \"RCSO\", \"RCSO\", \"APD…\n$ warrant_ref   <chr> \"ONVIEW\", \"ONVIEW\", \"ONVIEW;ONVIEW\", \"26582B;26582B;2658…\n$ charges       <chr> \"POSS MARIJ <=2OZ\", \"POSS MARIJ <=2OZ\", \"POSS CS PG 2 >=…\n```\n:::\n:::\n\n\n## Clean\n\nGet rid of extra columns and make date_arrest and time_arrest into one column. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nrandall_clean <- randall |> mutate(\n  datetime_arrest = paste(date_arrest,substr(time_arrest,12,19)),\n  datetime_arrest = ymd_hms(datetime_arrest),\n) |> select(\n  -\"SO #\",\n  -time_arrest,\n  -agency_arrest,\n  -warrant_ref,\n  -height_ft,\n  -height_in,\n  -weight,\n  -address\n) |> cbind(address_arrest = NA, agency_arrest = NA, ethnicity = NA)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `datetime_arrest = ymd_hms(datetime_arrest)`.\nCaused by warning:\n!  54 failed to parse.\n```\n:::\n\n```{.r .cell-code}\nrandall_clean |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 904\nColumns: 10\n$ name            <chr> \"DUBIOS, JOSHUA WAYNE\", \"FLORES, RODRIGO LEE\", \"UST, C…\n$ age             <dbl> 22, 50, 21, 22, 39, 28, 24, 23, 23, 42, 60, 34, 23, 31…\n$ sex             <chr> \"M\", \"M\", \"M\", \"M\", \"M\", \"M\", \"M\", \"M\", \"M\", \"M\", \"F\",…\n$ race            <chr> \"W\", \"W\", \"W\", \"B\", \"B\", \"W\", \"W\", \"W\", \"W\", \"W\", \"W\",…\n$ date_arrest     <dttm> 2018-01-02, 2018-01-02, 2018-01-02, 2018-01-03, 2018-…\n$ charges         <chr> \"POSS MARIJ <=2OZ\", \"POSS MARIJ <=2OZ\", \"POSS CS PG 2 …\n$ datetime_arrest <dttm> 2018-01-02 11:30:00, 2018-01-02 00:45:00, 2018-01-02 …\n$ address_arrest  <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ agency_arrest   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ ethnicity       <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n```\n:::\n:::\n\n\n## Export\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrandall_clean |> write_csv(\"data-processed/Randall-County.csv\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}