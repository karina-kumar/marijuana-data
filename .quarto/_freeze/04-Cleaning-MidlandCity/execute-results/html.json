{
  "hash": "3970bc91d6394fc7adc50544a7ca18d7",
  "result": {
    "markdown": "---\ntitle: \"Midland City\"\n---\n\n\n## Setup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(janitor)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n:::\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(lubridate)\n```\n:::\n\n\n## Import \n\nSame process as before\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmidland <- read_excel(\"data-raw/MidlandCity.xlsx\")\n\nmidland |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 2,704\nColumns: 29\n$ age         <chr> \"39\", \"39\", \"25\", \"29\", \"36\", \"37\", \"17\", \"19\", \"31\", \"21\"…\n$ officer     <dbl> 196, 26, 593, 523, 587, 46, 597, 597, 596, 58, 142, 504, 1…\n$ charges     <chr> \"POSS CS PG 1 >= 1G < 4G\", \"POSS CS PG 1 >= 1G < 4G\", \"ASS…\n$ date_arrest <dttm> 2019-07-25, 2019-07-25, 2019-07-29, 2019-07-31, 2019-07-3…\n$ district    <chr> \"P5\", \"P5\", \"P2\", \"P2\", \"P7\", \"P6\", \"P2\", \"P2\", \"P4\", \"P2\"…\n$ gangrelat   <chr> NA, NA, \"NO\", NA, \"NO\", NA, NA, NA, \"NO\", \"NO\", \"NO\", NA, …\n$ geox        <dbl> 1756171, 1756171, 1738124, 1743033, 1734635, 1735286, 1741…\n$ geoy        <dbl> 10701051, 10701051, 10690065, 10696034, 10706882, 10676229…\n$ name_id     <dbl> 10286735, 10286735, 10193951, 10137556, 10064002, 10304231…\n$ race        <chr> \"W\", \"W\", \"W\", \"W\", \"B\", \"W\", \"W\", \"W\", \"W\", \"W\", \"W\", \"W\"…\n$ reportarea  <chr> \"0437\", \"0437\", \"0543\", \"0533\", \"0309\", \"0204\", \"0556\", \"0…\n$ sex         <chr> \"M\", \"M\", \"F\", \"F\", \"F\", \"F\", \"F\", \"M\", \"M\", \"M\", \"M\", \"M\"…\n$ time_arrest <chr> \"1339\", \"1338\", \"2256\", \"0206\", \"1821\", \"1242\", \"0121\", \"0…\n$ arr_chrg    <chr> \"HSC 481.115(c)  F3\", \"HSC 481.115(c)  F3\", \"HSC 483.041(d…\n$ chrg_cnt    <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ charge_desc <chr> \"POSS CS PG 1 >= 1G < 4G\", \"POSS CS PG 1 >= 1G < 4G\", \"POS…\n$ fel_misd    <chr> \"F\", \"F\", \"M\", \"M\", \"F\", \"F\", \"F\", \"F\", \"M\", \"M\", \"F\", \"M\"…\n$ ucr_code    <chr> \"35A\", \"35A\", \"35A\", \"35A\", \"35A\", \"35A\", \"35A\", \"35A\", \"3…\n$ ibr_code    <chr> \"35A\", \"35A\", \"35A\", \"35A\", \"35A\", \"35A\", \"35A\", \"35A\", \"3…\n$ firstname   <chr> \"CARLTON\", \"CARLTON\", \"CHRISTINA\", \"KATELYN\", \"LATOYA\", \"H…\n$ gangaffil   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ hair        <chr> \"GRY\", \"GRY\", NA, \"BRO\", \"BRO\", \"BRO\", \"BRO\", \"BLK\", \"BLD\"…\n$ height      <chr> \"507\", \"507\", NA, \"505\", \"507\", \"506\", \"505\", \"502\", \"507\"…\n$ lastname    <chr> \"BLACKWELL\", \"BLACKWELL\", \"BALDERRAMA\", \"SANDERSON\", \"WILL…\n$ middlename  <chr> NA, NA, NA, \"MARIE\", \"DENISE\", \"DAWN\", \"ELIZABETH\", NA, NA…\n$ street      <chr> \"N LORAINE ST\", \"N LORAINE ST\", \"ROOSEVELT DR\", \"AIRLINE R…\n$ streetnbr   <chr> \"601\", \"601\", \"4428\", \"7100\", \"1212\", NA, \"4715\", \"4309\", …\n$ weight      <dbl> 180, 180, 0, 155, 240, 200, 160, 130, 140, 180, 150, 100, …\n$ age_group   <chr> \"35 to 44\", \"35 to 44\", \"25 to 34\", \"25 to 34\", \"35 to 44\"…\n```\n:::\n:::\n\n\n## Select Columns\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmidland_clean <- midland |> mutate(\n  datetime_arrest = paste(date_arrest, time_arrest), \n  name = paste(firstname, lastname)) |> select(\n  -officer,\n  -reportarea,\n  -arr_chrg,\n  -chrg_cnt,\n  -ucr_code,\n  -ibr_code,\n  -name_id,\n  -district,\n  -age_group,\n  -charge_desc,\n  -fel_misd,\n  -gangaffil,\n  -height,\n  -hair,\n  -weight,\n  -time_arrest,\n  -firstname,\n  -lastname,\n  -middlename,\n  -street,\n  -streetnbr,\n  -gangrelat,\n  -geox,\n  -geoy\n) |> cbind(address_arrest = NA, agency_arrest = NA, ethnicity = NA)\n\nmidland_clean |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 2,704\nColumns: 10\n$ age             <chr> \"39\", \"39\", \"25\", \"29\", \"36\", \"37\", \"17\", \"19\", \"31\", …\n$ charges         <chr> \"POSS CS PG 1 >= 1G < 4G\", \"POSS CS PG 1 >= 1G < 4G\", …\n$ date_arrest     <dttm> 2019-07-25, 2019-07-25, 2019-07-29, 2019-07-31, 2019-…\n$ race            <chr> \"W\", \"W\", \"W\", \"W\", \"B\", \"W\", \"W\", \"W\", \"W\", \"W\", \"W\",…\n$ sex             <chr> \"M\", \"M\", \"F\", \"F\", \"F\", \"F\", \"F\", \"M\", \"M\", \"M\", \"M\",…\n$ datetime_arrest <chr> \"2019-07-25 1339\", \"2019-07-25 1338\", \"2019-07-29 2256…\n$ name            <chr> \"CARLTON BLACKWELL\", \"CARLTON BLACKWELL\", \"CHRISTINA B…\n$ address_arrest  <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ agency_arrest   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ ethnicity       <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n```\n:::\n:::\n\n\n## Export\n\n::: {.cell}\n\n```{.r .cell-code}\nmidland_clean |> write_csv(\"data-processed/Midland-City.csv\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}