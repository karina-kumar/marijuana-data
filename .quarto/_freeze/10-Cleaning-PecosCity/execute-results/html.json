{
  "hash": "d143a24097ba8d2ae05fbbd0a1a3ce48",
  "result": {
    "markdown": "---\ntitle: \"Pecos City\"\n---\n\n\n## Setup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(janitor)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n:::\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(lubridate)\n```\n:::\n\n\n## Import \n\nSame process as before\n\n\n::: {.cell}\n\n```{.r .cell-code}\npecos <- read_excel(\"data-raw/PecosCity.xls\")\n\npecos |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 70\nColumns: 8\n$ officer         <chr> \"MARQUEZ, AA\", \"MARQUEZ, AA\", \"MARQUEZ, AA\", \"MARQUEZ,…\n$ datetime_arrest <chr> \"01/15/2018 10:47\", \"01/19/2018 16:39\", \"01/20/2018 07…\n$ charge_desc     <chr> \"POSSESSION OF MARIJUANA\", \"TRAFFIC STOP/VIOLATION\", \"…\n$ address_arrest  <chr> \"300 S ROSS BOULEVARD\", \"1200 S PLUM\", \"2600 STATE HIG…\n$ city_zip        <chr> \"PECOS, TX 79772\", \"PECOS, TX 79772\", \"PECOS, TX 79772…\n$ charges         <chr> \"POSS MARIJ <2OZ\", \"POSS MARIJ <2OZ\", \"POSS MARIJ <2OZ…\n$ offense_status  <chr> \"ACTIVE\", \"ACTIVE\", \"ACTIVE\", \"ACTIVE\", \"ACTIVE\", \"ACT…\n$ case_status     <chr> NA, \"ACTIVE\", \"ACTIVE\", \"ACTIVE\", \"ACTIVE\", \"CLEARED B…\n```\n:::\n:::\n\n\n## Clean\n\nChange datetime_arrest to datetime object. Get rid of columns officer, offense_status, case_status. \n\n\n::: {.cell}\n\n```{.r .cell-code}\npecos_clean <- pecos |> mutate(\n  datetime_arrest = mdy_hm(datetime_arrest),\n  date_arrest = date(datetime_arrest)\n) |> select(\n  -officer,\n  -offense_status,\n  -case_status,\n  -charge_desc,-city_zip\n) |> cbind(name = NA, age = NA, race = NA, sex = NA, ethnicity = NA, agency_arrest = NA)\n\npecos_clean |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 70\nColumns: 10\n$ datetime_arrest <dttm> 2018-01-15 10:47:00, 2018-01-19 16:39:00, 2018-01-20 …\n$ address_arrest  <chr> \"300 S ROSS BOULEVARD\", \"1200 S PLUM\", \"2600 STATE HIG…\n$ charges         <chr> \"POSS MARIJ <2OZ\", \"POSS MARIJ <2OZ\", \"POSS MARIJ <2OZ…\n$ date_arrest     <date> 2018-01-15, 2018-01-19, 2018-01-20, 2018-01-24, 2019-…\n$ name            <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ age             <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ race            <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ sex             <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ ethnicity       <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ agency_arrest   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n```\n:::\n:::\n\n\n## Export\n\n\n::: {.cell}\n\n```{.r .cell-code}\npecos_clean |> write_csv(\"data-processed/Pecos-City.csv\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}