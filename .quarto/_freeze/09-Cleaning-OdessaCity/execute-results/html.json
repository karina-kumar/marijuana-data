{
  "hash": "b7e1c67d9a79f8078737ce78ff4c5a23",
  "result": {
    "markdown": "---\ntitle: \"Odessa City\"\n---\n\n\n## Setup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(janitor)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n:::\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(lubridate)\n```\n:::\n\n\n## Import \n\nSame process as before\n\n\n::: {.cell}\n\n```{.r .cell-code}\nodessa <- read_excel(\"data-raw/OdessaCity.xlsx\")\n\nodessa |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 2,974\nColumns: 8\n$ date_arrest    <chr> \"1/1/2018\", \"1/1/2018\", \"1/2/2018\", \"1/2/2018\", \"1/3/20…\n$ name           <chr> \"Prnce, Cameron\", \"TALLEY, JESSI MARIE\", \"Hendrix, Jess…\n$ race           <chr> \"B - Black or African American\", \"W - White\", \"W - Whit…\n$ ethnicity      <chr> \"N - Not Hispanic or Latino\", \"N - Not Hispanic or Lati…\n$ sex            <chr> \"M - Male\", \"F - Female\", \"F - Female\", \"M - Male\", \"M …\n$ `Case No`      <chr> \"18-0000022\", \"18-0000018\", \"18-0000091\", \"18-0000083\",…\n$ charges        <chr> \"35620008 - POSS MARIJ 2OZ\", \"35620008 - POSS MARIJ 2OZ…\n$ address_arrest <chr> \"1900 Blk. E. 6th\", \"1st/Sam Houston\", \"Carolyn/ Andrew…\n```\n:::\n:::\n\n\n## Clean\n\nNeed to change date_arrest to date type. Need to get rid of extra words in race and sex. And fet rid of Case No altogether. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nodessa_clean <- odessa |> mutate(\n  date_arrest = mdy(date_arrest),\n  race = substr(race, 1, 1),\n  sex = substr(sex, 1, 1)\n) |> select(-\"Case No\") |> \n  cbind(datetime_arrest = NA, agency_arrest = NA, age = NA)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `date_arrest = mdy(date_arrest)`.\nCaused by warning:\n!  2 failed to parse.\n```\n:::\n\n```{.r .cell-code}\nodessa_clean |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 2,974\nColumns: 10\n$ date_arrest     <date> 2018-01-01, 2018-01-01, 2018-01-02, 2018-01-02, 2018-…\n$ name            <chr> \"Prnce, Cameron\", \"TALLEY, JESSI MARIE\", \"Hendrix, Jes…\n$ race            <chr> \"B\", \"W\", \"W\", \"W\", \"B\", \"W\", \"W\", \"W\", \"W\", \"W\", \"B\",…\n$ ethnicity       <chr> \"N - Not Hispanic or Latino\", \"N - Not Hispanic or Lat…\n$ sex             <chr> \"M\", \"F\", \"F\", \"M\", \"M\", \"M\", \"F\", \"M\", \"M\", \"M\", \"F\",…\n$ charges         <chr> \"35620008 - POSS MARIJ 2OZ\", \"35620008 - POSS MARIJ 2O…\n$ address_arrest  <chr> \"1900 Blk. E. 6th\", \"1st/Sam Houston\", \"Carolyn/ Andre…\n$ datetime_arrest <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ agency_arrest   <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ age             <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n```\n:::\n:::\n\n\n## Export\n\n\n::: {.cell}\n\n```{.r .cell-code}\nodessa_clean |> write_csv(\"data-processed/Odessa-City.csv\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}